!function(a){"use strict";function r(a,e,i){a.is("[id]")||a.attr("id",e+(i+1))}function n(a){return a.shiftKey||a.ctrlKey||a.altKey||a.metaKey?!1:!0}var e={},i=0,o="",t={r:"role",aHi:"aria-hidden",aLab:"aria-labelledby",tbI:"tabindex",aLi:"aria-live",t:"true",f:"false"};e.init=function(e,o){var n=a.extend({},a.fn.ariaDialog.defaultSettings,e),l={dialog:o,wrapper:o.find("."+n.dialogWrapperClass),container:o.find("."+n.dialogContainerClass),heading:o.find("."+n.dialogHeadingClass)},d="",s=[];switch(r(l.dialog,"dialog-",i),d=l.dialog.attr("id"),s=[d,l,n],o.data("dialogArray",s),n.cssTransitions||(l.dialog.hide(),l.wrapper.css({opacity:0})),n.dialogType){case"modal":l.wrapper.attr(t.r,"dialog");break;case"alert":l.wrapper.attr(t.r,"alertdialog")}l.container.attr(t.r,n.dialogContainerRole),r(l.heading,"dialog-heading-",i),l.wrapper.attr(t.aLab,l.heading.attr("id")),l.wrapper.attr(t.tbI,"0").attr(t.aHi,t.t),i+=1},e.open=function(i){var i=i.data("dialogArray")[1].dialog,r=i.data("dialogArray")[1].wrapper,l=i.data("dialogArray")[2],d=i.find("a[href], area[href], button:enabled, input:enabled, textarea:enabled, select:enabled, optgroup:enabled, option:enabled, menuitem:enabled, fieldset:enabled");d={first:d.first(),last:d.last()},o=a(":focus"),l.preventScroll&&a("body").css("overflow-y","hidden"),i.addClass(l.dialogOpenClass),r.addClass(l.dialogWrapperOpenClass).attr(t.aHi,t.f).focus(),l.cssTransitions||(i.show(),r.fadeTo(l.fadeSpeed,1)),d.last.off("keydown").on("keydown",function(a){9===a.keyCode&&n(a)===!0&&(a.preventDefault(),d.first.focus())}),d.first.off("keydown").on("keydown",function(a){9!==a.keyCode||!a.shiftKey||a.ctrlKey||a.altKey||a.metaKey||(a.preventDefault(),d.last.focus())}),l.closeWithEsc&&a(window).off("keydown").one("keydown",function(a){27===a.keyCode&&n(a)===!0&&e.close(i)}),l.closeOnBgClick&&(i.on("click",function(a){e.close(i)}),r.on("click",function(a){a.stopPropagation()}))},e.close=function(e){var e=e.data("dialogArray")[1].dialog,i=e.data("dialogArray")[1].wrapper,r=e.data("dialogArray")[2];r.preventScroll&&a("body").css("overflow-y",""),e.removeClass(r.dialogOpenClass),i.removeClass(r.dialogWrapperOpenClass).attr(t.aHi,t.t).focus(),""!==o&&o.focus(),r.cssTransitions||i.fadeOut(r.fadeSpeed,function(){e.hide()})},e.remove=function(a){a.remove()},e.destroy=function(a){var e=a.data("dialogArray")[1].wrapper;a.removeData("dialogArray"),e.removeAttr(t.r).removeAttr(t.aLi).removeAttr(t.tbI).removeAttr(t.aHi)},a.fn.ariaDialog=function(i){if("object"==typeof i||"undefined"==typeof i)return void this.each(function(){e.init(i,a(this))});switch(i){case"open":e.open(a(this[0]));break;case"close":e.close(a(this[0]));break;case"remove":this.each(function(){e.remove(a(this))});break;case"destroy":this.each(function(){e.destroy(a(this))})}},a.fn.ariaDialog.defaultSettings={dialogClass:"dialog",dialogWrapperClass:"dialog__wrapper",dialogContainerClass:"dialog__container",dialogHeadingClass:"dialog__heading",dialogOpenClass:"dialog_open",dialogWrapperOpenClass:"dialog__wrapper_open",dialogType:"modal",dialogContainerRole:"document",closeWithEsc:!1,closeOnBgClick:!1,fadeSpeed:100,cssTransitions:!1,preventScroll:!0}}(jQuery);