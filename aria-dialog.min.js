!function(a,e){"use strict";function n(a,e,i){a.is("[id]")||a.attr("id",e+(i+1))}function s(a){return a.shiftKey||a.ctrlKey||a.altKey||a.metaKey?!1:!0}var i={},o=0,r="",t=a("body"),l={r:"role",aHi:"aria-hidden",aLab:"aria-labelledby",tbI:"tabindex",aLi:"aria-live",t:"true",f:"false"};i.init=function(e,i){var r=a.extend({},a.fn.ariaDialog.defaultSettings,e),t={dialog:i,wrapper:i.find("."+r.dialogWrapperClass),container:i.find("."+r.dialogContainerClass),heading:i.find("."+r.dialogHeadingClass)},s="",d=[];switch(n(t.dialog,"dialog-",o),s=t.dialog.attr("id"),d=[s,t,r],i.data("dialogArray",d),r.cssTransitions||(t.dialog.hide(),t.wrapper.css({opacity:0})),r.dialogType){case"modal":t.wrapper.attr(l.r,"dialog");break;case"alert":t.wrapper.attr(l.r,"alertdialog")}t.container.attr(l.r,r.dialogContainerRole),n(t.heading,"dialog-heading-",o),t.wrapper.attr(l.aLab,t.heading.attr("id")),t.wrapper.attr(l.tbI,"0").attr(l.aHi,l.t),o+=1},i.open=function(o){var o=o.data("dialogArray")[1].dialog,n=o.data("dialogArray")[1].wrapper,d=o.data("dialogArray")[2],c=o.find("a[href], area[href], button:enabled, input:enabled, textarea:enabled, select:enabled, optgroup:enabled, option:enabled, menuitem:enabled, fieldset:enabled");c={first:c.first(),last:c.last()},r=a(":focus"),d.preventScroll&&t.addClass("aria-dialog_no-scroll"),o.addClass(d.dialogOpenClass),n.addClass(d.dialogWrapperOpenClass).attr(l.aHi,l.f).focus(),d.cssTransitions||(o.show(),n.fadeTo(d.fadeSpeed,1)),c.last.off("keydown.ariaDialog").on("keydown.ariaDialog",function(a){9===a.keyCode&&s(a)===!0&&(a.preventDefault(),c.first.focus())}),c.first.off("keydown.ariaDialog").on("keydown.ariaDialog",function(a){9!==a.keyCode||!a.shiftKey||a.ctrlKey||a.altKey||a.metaKey||(a.preventDefault(),c.last.focus())}),d.closeWithEsc&&a(e).one("keydown.ariaDialog",function(a){27===a.keyCode&&s(a)===!0&&i.close(o)}),d.closeOnBgClick&&(o.on("click.ariaDialog",function(a){i.close(o)}),n.on("click.ariaDialog",function(a){a.stopPropagation()}))},i.close=function(a){var a=a.data("dialogArray")[1].dialog,e=a.data("dialogArray")[1].wrapper,i=a.data("dialogArray")[2];i.preventScroll&&t.removeClass("aria-dialog_no-scroll"),a.removeClass(i.dialogOpenClass),e.removeClass(i.dialogWrapperOpenClass).attr(l.aHi,l.t).focus(),""!==r&&r.focus(),i.cssTransitions||e.fadeOut(i.fadeSpeed,function(){a.hide()})},i.remove=function(a){a.remove()},i.destroy=function(a){var e=a.data("dialogArray")[1].wrapper;a.removeData("dialogArray"),e.removeAttr(l.r).removeAttr(l.aLi).removeAttr(l.tbI).removeAttr(l.aHi)},a.fn.ariaDialog=function(e){if("object"==typeof e||"undefined"==typeof e)return void this.each(function(){i.init(e,a(this))});switch(e){case"open":i.open(a(this[0]));break;case"close":i.close(a(this[0]));break;case"remove":this.each(function(){i.remove(a(this))});break;case"destroy":this.each(function(){i.destroy(a(this))})}},a.fn.ariaDialog.defaultSettings={dialogClass:"dialog",dialogWrapperClass:"dialog__wrapper",dialogContainerClass:"dialog__container",dialogHeadingClass:"dialog__heading",dialogOpenClass:"dialog_open",dialogWrapperOpenClass:"dialog__wrapper_open",dialogType:"modal",dialogContainerRole:"document",closeWithEsc:!1,closeOnBgClick:!1,fadeSpeed:100,cssTransitions:!1,preventScroll:!0}}(jQuery,window);