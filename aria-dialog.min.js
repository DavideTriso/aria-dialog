!function(e){"use strict";function r(e,a,i){e.is("[id]")||e.attr("id",a+(i+1))}function l(e){var i=0,t=a.length,o=0,n=e.attr("id");for(i;t>i;i+=1)a[i][0]===n&&(o=i);return o}function d(e){return e.shiftKey||e.ctrlKey||e.altKey||e.metaKey?!1:!0}var a=[],i={},t=0,o="",n={r:"role",aHi:"aria-hidden",aLab:"aria-labelledby",tbI:"tabindex",aLi:"aria-live",t:"true",f:"false"};i.init=function(i,o){var l=e.extend({dialogClass:"dialog",dialogWrapperClass:"dialog__wrapper",dialogContainerClass:"dialog__container",dialogHeadingClass:"dialog__heading",dialogType:"modal",dialogContainerRole:"document",closeWithEsc:!1,closeOnBgClick:!1,zIndex:100,fadeSpeed:100,preventScroll:!0},i),d={dialog:o,wrapper:o.find("."+l.dialogWrapperClass),container:o.find("."+l.dialogContainerClass),heading:o.find("."+l.dialogHeadingClass)},s="",c=[];switch(r(d.dialog,"dialog-",t),s=d.dialog.attr("id"),c=[s,d,l],a.push(c),d.dialog.hide().css({"z-index":l.zIndex}),d.wrapper.css({opacity:0}),l.dialogType){case"modal":d.wrapper.attr(n.r,"dialog");break;case"alert":d.wrapper.attr(n.r,"alertdialog")}d.container.attr(n.r,l.dialogContainerRole),r(d.heading,"dialog-heading-",t),d.wrapper.attr(n.aLab,d.heading.attr("id")),d.wrapper.attr(n.tbI,"0").attr(n.aHi,n.t),t+=1},i.open=function(t){var r=l(t),t=a[r][1].dialog,s=a[r][1].wrapper,c=t.find("a[href], area[href], button:enabled, input:enabled, textarea:enabled, select:enabled, optgroup:enabled, option:enabled, menuitem:enabled, fieldset:enabled");c={first:c.first(),last:c.last()},o=e(":focus"),a[r][2].preventScroll&&e("body").css("overflow-y","hidden"),t.show(),s.fadeTo(a[r][2].fadeSpeed,1).attr(n.aHi,n.f).focus(),c.last.unbind("keydown").on("keydown",function(e){9===e.keyCode&&d(e)===!0&&(e.preventDefault(),c.first.focus())}),c.first.unbind("keydown").on("keydown",function(e){9!==e.keyCode||!e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||(e.preventDefault(),c.last.focus())}),a[r][2].closeWithEsc&&e(window).unbind("keydown").one("keydown",function(e){27===e.keyCode&&d(e)===!0&&i.close(t)}),a[r][2].closeOnBgClick&&(t.on("click",function(e){i.close(t)}),s.on("click",function(e){e.stopPropagation()}))},i.close=function(i){var t=l(i),i=a[t][1].dialog,r=a[t][1].wrapper;a[t][2].preventScroll&&e("body").css("overflow-y",""),r.attr(n.aHi,n.t).fadeOut(a[t][2].fadeSpeed,function(){i.hide(),""!==o&&o.focus()})},i.remove=function(e){var i=l(e);a.splice(i,1),e.remove()},i.destroy=function(e){var i=l(e),t=a[i][1].wrapper;a.splice(i,1),t.removeAttr(n.r).removeAttr(n.aLi).removeAttr(n.tbI).removeAttr(n.aHi)},e.fn.ariaDialog=function(a){if("object"==typeof a||"undefined"==typeof a)return void this.each(function(){i.init(a,e(this))});switch(a){case"open":i.open(e(this));break;case"close":i.close(e(this));break;case"remove":this.each(function(){i.remove(e(this))});break;case"destroy":this.each(function(){i.destroy(e(this))})}}}(jQuery);